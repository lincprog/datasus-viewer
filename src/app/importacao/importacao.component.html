<div class="loadWrapper" *ngIf="showLoading">
  <div class="loader"></div>
</div>

<div *ngIf="finalizou" class="alert alert-success alert-white rounded">
  <div class="icon">
    <i class="fa fa-check"></i>
  </div>
  <strong>Sucesso! </strong>
  Arquivo importado! Utilize o menu relatórios para visualizar.
</div>

<div *ngIf="finalizouComErro"  class="alert alert-danger alert-white rounded">

  <div class="icon">
    <i class="fa fa-times-circle"></i>
  </div>
  <strong>Erro! </strong>
  Houve um erro ao tentar importar o arquivo! Verifique sua conexao com a Internet e tente novamente.
</div>

<div  class="card rounded-0" >
  <div class="card-header p-0">
    <div class="text-center py-2">
      <h3><i class="fa fa-database"></i> Importação </h3>
      <p class="m-0">Datasus Viewer</p>
    </div>
  </div>
  <div class="card-body p-3">
    <form [formGroup]="importacaoForm" novalidate >
      <div class="form-row py-3">
        <div class="col-md-6">
          <select style="font-size: 12px" class="form-control button" formControlName="mes" >
            <option [ngValue]="null">-- Mês --</option>
            <option  value="{{month}}" *ngFor="let month of months">{{month}}</option>
          </select>
        </div>
        <div class="col-md-6">
          <select style="font-size: 12px" class="form-control button" formControlName="ano" >
            <option [ngValue]="null">-- Ano --</option>
            <option  value="{{year}}" *ngFor="let year of years">{{year}}</option>
          </select>
        </div>
      </div>
      <div class="form-row py-3">
        <div class="col-md-6">
          <select style="font-size: 12px" class="form-control button" formControlName="estado" >
            <option [ngValue]="null">-- Estado --</option>
            <option  value="{{state}}" *ngFor="let state of states">{{state}}</option>
          </select>
        </div>
        <div class="col-md-6">
          <select style="font-size: 12px" class="form-control button" formControlName="tipoArquivo" >
            <option [ngValue]="null">-- Arquivo --</option>
            <option  value="{{type}}" *ngFor="let type of types">{{type}}</option>
          </select>
        </div>
      </div>
      <div class="form-group text-right">
        <!-- <input type="submit" value="Buscar" (click)="findAll()"  class="btn btn-success"> -->
        <button title="Preencha as informações necessárias" type="button" (click)="limparForm()" class="btn  btn-outline-secondary">Limpar</button>
        &nbsp;
        <button title="Preencha as informações necessárias" type="button"  (click)="save()" [disabled]="!importacaoForm.valid" class="btn btn-md btn-success">Importar</button>

      </div>
    </form>
  </div>
</div>


